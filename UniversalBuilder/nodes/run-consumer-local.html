<script type="text/html" data-template-name="run-consumer-local">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-consumerPort"><i class="fa fa-random"></i> Consumer Port</label>
        <input type="number" id="node-input-consumerPort" placeholder="3333">
    </div>
    <div class="form-row">
        <label for="node-input-consumerImage"><i class="fa fa-docker"></i> Image</label>
        <input type="text" id="node-input-consumerImage" placeholder="consumer:latest">
    </div>
</script>

<script type="text/html" data-help-name="run-consumer-local">
    <p>A node for running the consumer container locally during development.</p>
    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>consumerPort <span class="property-type">number</span></dt>
        <dd>The port to expose for the consumer service (default: 3333)</dd>
        <dt>consumerImage <span class="property-type">string</span></dt>
        <dd>The Docker image to run (default: consumer:latest)</dd>
        <dt>env <span class="property-type">object</span></dt>
        <dd>Environment variables to pass to the container</dd>
    </dl>
    <h3>Outputs</h3>
    <dl class="message-properties">
        <dt>containerId <span class="property-type">string</span></dt>
        <dd>The ID of the started container</dd>
    </dl>
</script>

<script type="text/javascript">
    RED.nodes.registerType('run-consumer-local',{
        category: 'Future Cloud',
        color: '#4363d8',
        defaults: {
            name: {value:""},
            consumerPort: {value: 3333, validate: RED.validators.number()},
            consumerImage: {value: "consumer:latest"}
        },
        inputs:1,
        outputs:1,
        icon: "font-awesome/fa-docker",
        label: function() {
            return this.name||"Run Consumer Locally";
        }
    });
</script> 